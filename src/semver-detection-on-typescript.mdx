import { Head } from "mdx-deck";
import { Split } from "mdx-deck/layouts";
import { CodeSurfer } from "mdx-deck-code-surfer";
import vsDarkPlus from "prism-react-renderer/themes/vsDarkPlus";
import { Meta } from "./Meta";
export { default as theme } from "./theme";

<Head>
  <Meta
    title=".d.tsを解析して破壊的変更を検知する"
    description="Meguro.es # 20 @ Drecom"
    slug="semver-detection-on-typescript"
    publishedAt={new Date(2019, 3, 4)}
  />
  <link
    href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"
    rel="stylesheet"
  />
</Head>

# .d.ts を解析して破壊的変更を検知する

[Meguro.es # 20 @ Drecom](https://meguroes.connpass.com/event/118731/)  
Leko

---

## Leko

<img src="/assets/self_avatar.png" height="250" />
<img src="/assets/self_bio.png" height="250" />
<img src="/assets/self_contributions.png" height="250" />

Node.js, React, React Native  
言語の中身読んだり AST 解析で遊ぶのが好き

---

## 話すこと

- semver に思う運用のツラミと既存のアプローチ
- TypeScript AST
- TypeScript の undocumented な世界に潜る
- semver を自動計算するアプローチ

---

## Semantic Versioning

- `MAJOR`: make incompatible API changes,
- `MINOR`: add functionality in a backwards-compatible manner, and
- `PATCH`: make backwards-compatible bug fixes.

https://semver.org

---

## Conventional Commit

- もとは Angular のコミット規約がもとだったと思う
- feat, chore, fix, test, docs などよく見るやつ
- CHANGELOG の自動生成などもこなすデキる子

https://www.conventionalcommits.org

---

## Semantic Release

- fix(pencil): Patch
- feat(pencil): Minor
- perf(pencil): Major
- BREAKING CHANGE: Major

https://github.com/semantic-release/semantic-release

---

## 既存の semver 運用

- 「人間が」どのタイプの変更か判断して手動で振ってる
  - 多くのアプローチはコミットメッセージに情報を込める
- その判断結果をベースに諸々効率化できる

---

# おわり
